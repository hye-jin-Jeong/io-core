# 통합 출입 기록 시스템 PRD

## 1. 시스템 개요

### 1.1 제품 개요

통합 출입 기록 시스템은 학교, 회사, 어린이집, 유치원, 헬스장, 학원 등 다양한 시설에서 범용적으로 사용할 수 있는 출결 관리 솔루션입니다. 태그 기반의 자동 출결 인식과 웹 기반의 관리 시스템을 통해 효율적인 출결 관리를 제공합니다.

### 1.2 시스템 목표

- 다양한 시설에서 사용 가능한 범용 출결 시스템 구축
- 태그 기반 자동 출결 처리로 업무 효율성 향상
- 웹 기반 관리 시스템으로 실시간 출결 현황 관리
- 예외 상황에 대한 유연한 처리 기능 제공

### 1.3 개발 범위 (MVP)

- **내부 관리자 웹**: 전체 시스템 및 시설 관리
- **시설 관리자 웹**: 시설별 출결 관리
- **자동 출결 시스템**: 장치를 통한 태그 인식 및 출결 처리

## 2. 시스템 아키텍처

### 2.1 주요 역할

- **내부 관리자 (System Administrator)**: 솔루션 전체를 운영하고 관리하는 최고 권한 관리자
- **시설 관리자 (Client Administrator)**: 각 시설의 운영 및 관리를 담당하는 담당자
- **사용자**: 출결 대상자 (태그를 이용한 출결만, 웹 페이지 제외)

### 2.2 핵심 엔터티 및 관계

#### 2.2.1 엔터티 정의

- **사용자**: 출결 당사자
- **시설**: 사용자가 출결하는 장소
- **그룹**: 사용자가 소속된 곳 (예: 학교의 반, 회사의 팀)
- **시설 관리자**: 시설의 관리자
- **내부 관리자**: 전체 출결 시스템의 관리자
- **장치**: 출결을 인식하는 장비
- **태그**: 장치가 사용자를 식별하기 위해 필요한 물리적 또는 비물리적 수단
- **출결 기록**: 실제 출결 이벤트 데이터

#### 2.2.2 엔터티 관계

- 사용자는 해당 시설 내에서 여러 그룹에 속할 수 있습니다.
- 사용자는 여러 태그를 가질 수 있습니다.
- 그룹은 하나의 시설에만 소속됩니다.
- 시설은 여러 그룹을 포함하며, 여러 명의 시설 관리자를 가질 수 있습니다.
- 시설은 여러 장치가 설치될 수 있습니다.
- 시설 관리자는 여러 시설을 관리할 수 있습니다.
- 시설 관리자는 동시에 사용자일 수도 있습니다.
- 장치는 하나의 시설에만 소속됩니다.
- 장치는 여러 태그를 가질 수 있습니다.
- 태그는 하나의 장치에만 소속됩니다.
- 출결 기록은 사용자, 장치, 태그와 연결됩니다.

## 3. 자동 출결 시스템

### 3.1 출결 처리

- **태그 인식을 통한 사용자 식별**: NFC, QR 코드, RFID 등 다양한 태그 기술 지원
- **자동 출결 기록 생성**: 태그 인식 시 자동으로 출결 기록 생성
- **출결 상태 관리**: 입실/퇴실 상태 자동 관리
- **중복 출결 방지**: 일정 시간 내 동일 태그 중복 출결 방지

### 3.2 데이터 전송

- **서버로 출결 데이터 실시간 전송**: 네트워크 연결 시 즉시 전송
- **네트워크 장애 시 로컬 저장 및 복구**: 오프라인 상태에서 로컬 저장 후 복구 시 일괄 전송

## 4. 비즈니스 요구사항

### 4.1 비즈니스 목표

1. **효율성 향상**: 수동 출결 관리 대비 50% 이상의 업무 시간 단축
2. **정확성 향상**: 인적 오류 최소화로 출결 데이터 정확도 95% 이상
3. **범용성 확보**: 다양한 시설 유형에 적용 가능한 유연한 구조

### 4.2 타겟 사용자

- **내부 관리자**: 전체 시스템을 운영하는 관리자
- **시설 관리자**: 각 시설의 출결을 관리하는 담당자
- **사용자**: 출결 대상자 (태그를 이용한 출결만, 웹 페이지 제외)

## 5. 비기능 요구사항

### 5.1 성능 요구사항

- **동시 접속자**: 내부 관리자 10명, 시설 관리자 100명
- **동시 출결 처리**: 최대 100명 (전체 시스템 기준)
- **웹 페이지 응답 시간**: 3초 이내
- **출결 처리 시간**: 1초 이내
- **데이터베이스 처리**: 쿼리 응답 1초 이내

### 5.2 보안 요구사항

- **통신 보안**: HTTPS 프로토콜 사용
- **인증**: 사용자별 로그인 및 세션 관리
- **권한 관리**: 역할 기반 접근 제어 (RBAC)
- **데이터 보안**: 개인정보 암호화 저장
- **감사 로그**: 중요 작업에 대한 로그 기록

### 5.3 가용성 요구사항

- **시스템 가동률**: 99% 이상
- **데이터 백업**: 일 1회 자동 백업
- **장애 복구**: 4시간 이내 서비스 복구
- **데이터 복구**: RPO 24시간, RTO 4시간

### 5.4 확장성 요구사항

- **시설 수**: 최대 100개
- **시설별 사용자 수**: 최대 1,000명
- **시설별 장치 수**: 최대 10개
- **시설별 그룹 수**: 최대 50개
- **일일 출결 기록**: 시설별 최대 10,000건

### 5.5 호환성 요구사항

- **웹 브라우저**: Chrome, Firefox, Safari, Edge 최신 버전
- **모바일**: 반응형 웹 디자인 (태블릿 지원)
- **운영체제**: Windows, macOS, Linux

## 6. 기술 요구사항

### 6.1 시스템 아키텍처

- **프론트엔드**: Next.js (React 기반)
- **백엔드**: Next.js API Routes
- **데이터베이스**: PostgreSQL
- **ORM**: Prisma
- **인증**: NextAuth.js
- **배포**: Vercel 또는 Docker

### 6.2 외부 연동

- **장치 통신**: REST API 또는 WebSocket
- **태그 기술**: NFC, QR 코드, RFID 등 (확장 가능)

## 7. 성공 지표

### 7.1 정량적 지표

- 시스템 가동률: 99% 이상
- 출결 처리 성공률: 99.5% 이상
- 평균 응답 시간: 3초 이내
- 사용자 만족도: 4.5/5.0 이상

### 7.2 정성적 지표

- 기존 수동 관리 대비 업무 효율성 향상
- 출결 데이터의 정확성 및 신뢰성 확보
- 다양한 시설 유형에서의 적용 가능성 검증

## 8. 제약사항 및 가정

### 8.1 제약사항

- 초기 버전에서는 사용자 웹 페이지 제외
- 고급 보고서 기능은 추후 개발
- 모바일 앱은 개발 범위에서 제외

### 8.2 가정

- 각 시설에 안정적인 인터넷 연결 환경 제공
- 장치는 HTTP API를 통해 서버와 통신 가능
- 시설 관리자는 기본적인 웹 사용 능력 보유

## 9. 향후 로드맵

### 9.1 Phase 2 (추후 개발)

- 사용자 전용 웹 페이지
- 모바일 앱 (사용자용)
- 고급 보고서 및 분석 기능
- 알림 시스템 (이메일, SMS)

### 9.2 Phase 3 (장기 계획)

- AI 기반 출결 패턴 분석
- 얼굴 인식 기술 적용
- 다국어 지원
- API 개방 (3rd party 연동)

## 10. 관련 문서

### 10.1 상세 기능 명세서

각 역할별 상세한 기능 명세서는 별도 문서로 분리되어 있습니다:

1. **[시설 관리자 기능 명세서](./시설관리자_PRD.md)**
   - 대시보드, 시설 정보, 담당자 목록, 사용자 목록, 장치 관리

2. **[내부 관리자 기능 명세서](./내부관리자_PRD.md)**
   - 대시보드, 시설 목록, 장치 조회, 태그 조회, 내부 관리자 목록

### 10.2 사용 방법

1. 전체 시스템 개요를 파악하려면 이 문서를 먼저 읽어보세요.
2. 특정 역할의 상세 기능을 확인하려면 해당 명세서를 클릭하세요.
3. 개발 시에는 두 명세서를 모두 참고하여 전체 시스템을 이해하세요.

---

**문서 버전**: v1.0
**작성일**: 2025-09-14
