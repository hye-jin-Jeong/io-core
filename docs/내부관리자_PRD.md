# 내부 관리자 (System Administrator) PRD

## 1. 개요

### 1.1 역할 정의

내부 관리자는 솔루션 전체를 운영하고 관리하는 최고 권한 관리자입니다. 모든 시설, 장치, 태그, 사용자를 관리하고 전체 시스템의 상태를 모니터링합니다.

### 1.2 주요 목표

- 전체 시스템 및 시설 관리
- 장치 및 태그 관리
- 시스템 모니터링 및 운영
- 시설 관리자 계정 관리

## 2. 핵심 기능

### 2.1 대시보드

**목표**: 서비스 전체의 핵심 운영 지표를 파악

**세부 기능**:

- **핵심 지표 요약**: 전체 시설 수, 총 사용자 수, 신규 가입 대기 시설 수 표시
- **전체 장치 현황**: 시스템에 등록된 모든 장치의 수량 및 작동 현황 요약
- **서비스 활동 요약**: 일일/주간 총 출입 기록 수 등 주요 활동 지표 표시
- **시설별 출결 통계**: 각 시설의 출결 현황 요약

### 2.2 시설 관리

**목표**: 서비스에 가입한 모든 고객 시설을 관리

**세부 기능**:

- **가입자 인증 관리**: 신규 시설의 가입 요청 **승인** 또는 **거절** 처리
- **전체 시설 목록 조회**: 검색 및 필터링 기능 포함
- **시설 추가**: 내부에서 직접 신규 시설 정보 등록
- **시설 등록/수정/삭제**: 시설 정보 관리
- **시설 정보 조회 및 검색**: 시설별 상세 정보 확인
- **시설 관리자 계정 생성 및 시설 할당**: 시설별 관리자 계정 생성

### 2.3 장치 관리

**목표**: 서비스에 사용될 모든 물리적 장치(비콘/NFC)를 관리

**세부 기능**:

- **전자출결장치 관리**: 시스템에 등록된 모든 장치의 시리얼 번호 기준 목록 관리
- **장치 추가/삭제**: 신규 장치를 시스템에 사전 등록하거나 폐기 장치 삭제
- **장치 등록/수정/삭제 및 시설 할당**: 장치 정보 관리 및 시설 배치
- **장치 상태 모니터링**: 온라인/오프라인 상태 실시간 확인

### 2.4 태그 관리

**목표**: 시스템에 등록된 모든 태그(카드 등) 정보를 관리

**세부 기능**:

- **태그 코드 조회**: 고유 코드로 특정 태그를 검색하여 할당 상태 확인
- **태그 상태 관리**: 분실 신고된 태그 비활성화 등
- **태그 생성/수정/삭제 및 장치 할당**: 태그 정보 관리
- **태그와 사용자 연결 관리**: 태그-사용자 매핑 관리

### 2.5 내부 관리자 관리

**목표**: 시스템을 운영하는 관리자 계정을 관리

**세부 기능**:

- **관리자 추가/삭제**: 새로운 내부 관리자 계정 생성 및 삭제
- **권한 관리 (향후 확장)**: 관리자별로 접근 메뉴를 다르게 설정하는 기능

### 2.6 시스템 모니터링

**목표**: 전체 시스템의 상태와 사용 현황을 모니터링

**세부 기능**:

- **전체 시설별 사용 현황 조회**: 각 시설의 사용자 수, 출결 현황 등
- **시설별 출결 통계 대시보드**: 시설별 출결 통계 및 분석
- **장치 상태 실시간 모니터링**: 모든 장치의 상태 모니터링
- **시스템 성능 모니터링**: 서버 상태, 응답 시간 등

## 3. 비기능 요구사항

### 3.1 성능 요구사항

- **동시 접속자**: 내부 관리자 10명
- **동시 출결 처리**: 최대 100명 (전체 시스템 기준)
- **웹 페이지 응답 시간**: 3초 이내
- **출결 처리 시간**: 1초 이내
- **데이터베이스 처리**: 쿼리 응답 1초 이내

### 3.2 보안 요구사항

- **통신 보안**: HTTPS 프로토콜 사용
- **인증**: 사용자별 로그인 및 세션 관리
- **권한 관리**: 역할 기반 접근 제어 (RBAC)
- **데이터 보안**: 개인정보 암호화 저장
- **감사 로그**: 중요 작업에 대한 로그 기록

### 3.3 가용성 요구사항

- **시스템 가동률**: 99% 이상
- **데이터 백업**: 일 1회 자동 백업
- **장애 복구**: 4시간 이내 서비스 복구
- **데이터 복구**: RPO 24시간, RTO 4시간

### 3.4 확장성 요구사항

- **시설 수**: 최대 100개
- **시설별 사용자 수**: 최대 1,000명
- **시설별 장치 수**: 최대 10개
- **시설별 그룹 수**: 최대 50개
- **일일 출결 기록**: 시설별 최대 10,000건

## 4. 사용자 스토리

### 4.1 시설 관리

- 시설을 등록하고 관리자를 배정할 수 있다
- 신규 시설의 가입 요청을 승인하거나 거절할 수 있다
- 전체 시설 목록을 조회하고 검색할 수 있다

### 4.2 장치 및 태그 관리

- 장치를 등록하고 시설에 배치할 수 있다
- 태그를 생성하고 사용자 및 장치와 연결할 수 있다
- 장치 상태를 실시간으로 모니터링할 수 있다

### 4.3 시스템 모니터링

- 전체 시스템의 상태와 사용 현황을 모니터링할 수 있다
- 시설별 출결 통계를 확인할 수 있다
- 시스템 성능을 모니터링할 수 있다

## 5. 제약사항

### 5.1 접근 권한

- 모든 시설의 데이터에 접근 가능
- 시스템 전체 설정 변경 가능
- 모든 관리자 기능 접근 가능

### 5.2 책임 범위

- 전체 시스템의 안정성과 보안 책임
- 시설 관리자 계정 관리 책임
- 장치 및 태그의 전체 생명주기 관리

## 6. 기술 요구사항

### 6.1 시스템 아키텍처

- **프론트엔드**: Next.js (React 기반)
- **백엔드**: Next.js API Routes
- **데이터베이스**: PostgreSQL
- **ORM**: Prisma
- **인증**: NextAuth.js

### 6.2 외부 연동

- **장치 통신**: REST API 또는 WebSocket
- **태그 기술**: NFC, QR 코드, RFID 등 (확장 가능)

---

**문서 버전**: v1.0
**작성일**: 2025-09-14
